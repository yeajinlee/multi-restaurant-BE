<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="mappers.main">
	<resultMap type="mainVO" id="mainResult">
		<result property="rest_NO" column="rest_NO"/>
		<result property="rest_Name" column="rest_Name"/>
		<result property="rest_Price" column="rest_Price"/>
		<result property="rest_Address" column="rest_Address"/>
		<result property="rest_Phone" column="rest_Phone"/>
		<result property="rest_Scope" column="rest_Scope"/>
		<result property="rest_Social" column="rest_Social"/>
		<result property="rest_OpenDate" column="rest_OpenDate"/>
<<<<<<< HEAD
			<result property="rest_FileName" column="rest_FileName"/>
	</resultMap>
	<resultMap type="imageVO" id="imageResult">
		<result property="img_FileNO" column="img_FileNO"/>
=======
>>>>>>> a12ea4eb81f67def2e28cd75ad9c75306c2e53b2
		<result property="img_FileName" column="img_FileName"/>
	</resultMap>
	
	
	<select id="selectRestList" resultMap="mainResult">
		<![CDATA[
<<<<<<< HEAD
			
		
		
	select ri.*, rm.fileName from Restaurant_Info ri, rest_Image rm where
     ri.rest_NO=rm.rest_NO and rm.filetype='sub_image' and
     rownum < 7
		
		
		
		
		
		
		
		]]>
	</select>
	<!-- select rest_NO, rest_Name, rest_Price, rest_Address from Restaurant_Info where rownum < 7 -->
	
	
	
	
<!-- 	<select id="selectImgList" resultMap="imageResult">
		<![CDATA[
			select * from reviewimg_info where rest_NO = #{rest_NO}
		]]>
		rest_NO가 null로 되어서 에러나는데 해결못함 
	</select> -->
=======
			select * from (select rest_NO, rest_Name, rest_Price, rest_Address from Restaurant_Info) a left outer join reviewimg_info b on a.rest_NO = b.rest_NO where rownum < 7
		]]>
	</select>
	
>>>>>>> a12ea4eb81f67def2e28cd75ad9c75306c2e53b2
</mapper>